var divBlackScreen;var timespeed = 1500;var timespeedreturn = 1000;var myScroll;window.onload = function(){	document.body.addEventListener('touchmove', function(e){e.preventDefault();},false);	divBlackScreen = document.getElementById('blackScreen');	var rcard = new rCard();}function rCard(){	mC = this;	mC.mainele;	mC.objCard;	mC.faceItem;	mC.listImgScroll = new Array();	mC.flagOpen = false;	mC.lastOpen;	mC.xCloseBtn;	mC.playsound;	mC.listImgs = new Array();	mC.openCard = function(e){		mC.objCard = e.target.parentNode.parentNode;		mC.faceItem =  e.target.parentNode;		if(!mC.flagOpen){			mC.flagOpen = true;			//Save Card Open 			mC.lastOpen = mC.objCard;			if(mC.objCard.classList.contains("card")){				if(mC.faceItem.classList.contains("front")){					setBlackScreen();	     			var parentCard = mC.objCard.parentNode;					oParseInt = parseInt(parentCard.id);					mC.faceItem.classList.add("frontindex");					mC.objCard.classList.add("cardeffect");						parentCard.classList.add("move" + oParseInt);					parentCard.classList.remove("card" + oParseInt);					var face =	mC.objCard.getElementsByClassName("face");					console.log(oParseInt);										switch(parentCard.id){						case '0card':                           setScroll(face[1],117,474,36,265,mC.listImgScroll[oParseInt]);                           break;                       case '1card':                           setScroll(face[1],89,496,38,534,mC.listImgScroll[oParseInt]);                           break;                       case '2card':                           setScroll(face[1],100,496,38,598,mC.listImgScroll[oParseInt]);                           break;                       case '3card':                           setScroll(face[1],130,462,38,215,mC.listImgScroll[oParseInt]);                           break;                       case '4card':                           setScroll(face[1],97,498,38,382,mC.listImgScroll[oParseInt]);                           break;                       case '5card':                           setScroll(face[1],202,387,39,202,mC.listImgScroll[oParseInt]);                           break;                       case '6card':                           setScroll(face[1],100,497,38,1171,mC.listImgScroll[oParseInt]);                           break;					}					mC.playsound.play();																			var timeMove = setTimeout(function(){						parentCard.classList.add("posdestination");							//show close btn						mC.xCloseBtn.classList.add("xcloseeffect");						mC.xCloseBtn.getElementsByClassName("imgclose")[0].classList.remove("imgheight");					},timespeed);}			}		} else if(mC.faceItem.classList.contains("xclose")) {				mC.closeCard();						}				}		mC.closeCard = function(){		if(mC.flagOpen){			removeBlackScreen();			var parentCard = mC.lastOpen.parentNode;			oParseInt = parseInt(parentCard.id);			mC.xCloseBtn.classList.remove("xcloseeffect");			mC.xCloseBtn.getElementsByClassName("imgclose")[0].classList.add("imgheight");			var frontface =	mC.lastOpen.getElementsByClassName("face");			frontface[0].classList.remove("frontindex");			mC.lastOpen.classList.remove("cardeffect");			parentCard.classList.remove("move" + oParseInt);				parentCard.classList.add("return" + oParseInt);			parentCard.classList.remove("posdestination");			removeScroll();			parentCard.classList.add('cardindex');			var timeMove = setTimeout(function(){				parentCard.setAttribute('class','');				parentCard.classList.add("ringier");				parentCard.classList.add("card" + oParseInt);				mC.flagOpen = false;			},timespeedreturn);		}							}		mC.init = function(){		loadImage();		document.getElementById('7item').addEventListener('click',function(){			naviTo('calendar#1')		},false);		mC.mainele = document.getElementById("mainIpad");		mC.xCloseBtn = mC.mainele.getElementsByClassName("xclose")[0];		mC.mainele.addEventListener('click',mC.openCard,false);		mC.playsound = document.getElementById("playsound");			}	mC.init();		function loadImage(){		var seriImgs = ['images/Mon.png','images/Tue.png','images/Wed.png','images/Thu.png','images/Fri.png','images/Sat.png','images/Sun.png'];				for(var i=0; i < seriImgs.length; i++){			mC.listImgs[i] = new Image();			mC.listImgs[i].src = seriImgs[i];		}				var seriImgsScroll = ['images/Monday_text.png','images/Tuesday_text.png','images/Wednesday_text.png','images/Thursday_text.png','images/Friday_text.png','images/Saturday_text.png','images/Sunday_text.png'];		for(var i=0; i < seriImgsScroll.length; i++){			mC.listImgScroll[i] = new Image();			mC.listImgScroll[i].src = seriImgsScroll[i];		}	}		function setBlackScreen(){		divBlackScreen.style.height = '768px';	}	function removeBlackScreen(){		divBlackScreen.style.height = '0px';	}				function setScroll(parentDiv,heightBox, topBox,leftBox,heightObj,imageName){				var wrapper = document.createElement("div");    	wrapper.setAttribute("id", "wrapper");		wrapper.classList.add('wrapper');				wrapper.style.height = heightBox + "px";		wrapper.style.top = topBox + "px";		wrapper.style.left = leftBox + "px";				var scroller = document.createElement("div");		scroller.setAttribute("id", "scroller");		scroller.classList.add('scroller');		scroller.style.height = heightObj + "px";		scroller.style.top = "0px";		imgDiv = document.createElement('img');				imgDiv.src = imageName.src; 		imgDiv.setAttribute("border","0");		scroller.appendChild(imgDiv);		wrapper.appendChild(scroller);		parentDiv.appendChild(wrapper);		myScroll = new iScroll('wrapper');			}		function removeScroll(){		var wrapper = mC.mainele.getElementsByClassName("wrapper")[0];		if(wrapper){			wrapper.parentNode.removeChild(wrapper);		}	}		function naviTo(golink){		document.location.href = "navito://" + golink;	}}